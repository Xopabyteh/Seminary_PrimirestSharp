@using Yearly.Contracts.Authentication
@using Yearly.Domain.Models.UserAgg.ValueObjects
<HxSidebar CssClass="sticky-top">
    <HeaderTemplate>
        <HxSidebarBrand BrandName="Primirest#">
            <LogoTemplate>
                <img src="/svg/logo_bubble.svg" width="32" class="mx-1" />
            </LogoTemplate>
        </HxSidebarBrand>
    </HeaderTemplate>

    <ItemsTemplate>
        <AuthorizedView RequiredRoles='new[] {UserRole.Admin}'>
            <HxSidebarItem Text="Users" Href="/UsersPage" Match="NavLinkMatch.All" Icon="BootstrapIcon.Person"/>
        </AuthorizedView>
        <AuthorizedView RequiredRoles='new[] {UserRole.PhotoApprover}'>
            <HxSidebarItem Text="Photos" Href="/PhotosPage" Match="NavLinkMatch.All" Icon="BootstrapIcon.Image"/>
        </AuthorizedView>
        <AuthorizedView RequiredRoles='new[] {UserRole.Admin}'>
            <HxSidebarItem Text="Foods" Href="/FoodsPage" Match="NavLinkMatch.All" Icon="BootstrapIcon.Cake"/>
        </AuthorizedView>
        <AuthorizedView RequiredRoles='new[] {UserRole.Admin}'>
            <HxSidebarItem Text="Hangfire dashboard" Href="/hangfire" Match="NavLinkMatch.All" Icon="BootstrapIcon.Fire"/>
        </AuthorizedView>
        <OnlyInDevelopment>
            <HxSidebarItem Text="Development" Href="/Development" Match="NavLinkMatch.All" Icon="BootstrapIcon.Tools"/>
        </OnlyInDevelopment>
    </ItemsTemplate>

     <FooterTemplate>
         @if (_sessionDetails.IsAuthenticated)
        {
            <div class="login-display d-flex align-items-center w-100 p-3">
                <span class="login-display-nickname mx-3">@_sessionDetails.User!.Username</span>
                <div class="ms-auto">
                    <HxContextMenu>
                        <HxContextMenuItem Text="Odhlásit" OnClick='BeginLogout' />
                    </HxContextMenu>
                </div>
            </div>
        }
        else
         {
            <HxSidebarFooter Href="/login" Icon="BootstrapIcon.Person" Text="@(context.SidebarCollapsed ? null : "Login")" />
         }
     </FooterTemplate>
 </HxSidebar>
 
                
